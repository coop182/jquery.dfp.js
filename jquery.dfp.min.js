/**
 * jQuery DFP v1.0.13
 * http://github.com/coop182/jquery.dfp.js
 *
 * Copyright 2013 Matt Cooper
 * Released under the MIT license
 */
(function(c,b,v){var k=this,l="",n=0,s=0,e={},p=!1,m,t=function(){var e=b.googletag.cmd;setTimeout(function(){b.googletag={cmd:{push:function(b){b.call(k)}},ads:[],pubads:function(){return this},enableSingleRequest:function(){return this},setTargeting:function(){return this},collapseEmptyDivs:function(){return this},enableServices:function(){return this},defineSlot:function(e,a,c){b.googletag.ads.push(c);b.googletag.ads[c]={renderEnded:function(){},addService:function(){return this}};return b.googletag.ads[c]},
defineOutOfPageSlot:function(c,a){b.googletag.ads.push(a);b.googletag.ads[a]={renderEnded:function(){},addService:function(){return this}};return b.googletag.ads[a]},display:function(c){b.googletag.ads[c].renderEnded.call(k);return this}};c.each(e,function(c,a){b.googletag.cmd.push(a)})},50)};c.dfp=c.fn.dfp=function(h,d){d=d||{};h===v&&(h=l);"object"===typeof h&&(d=h,h=d.dfpID||l);var a=this;"function"===typeof this&&(a=".adunit");var k=d;l=h;m=c(a);p=p||c('script[src*="googletagservices.com/tag/js/gpt.js"]').length;
if(!p){b.googletag=b.googletag||{};b.googletag.cmd=b.googletag.cmd||[];a=document.createElement("script");a.async=!0;a.type="text/javascript";a.onerror=function(){t()};a.src=("https:"===document.location.protocol?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";var f=document.getElementsByTagName("script")[0];f.parentNode.insertBefore(a,f);"none"===a.style.display&&t()}var g=b.location.pathname.replace(/\/$/,""),f=g.match(RegExp("/([^/]*)","ig")),a=["/"],u="";if(f&&"/"!==g){var g="",
q=f.length;if(0<q)for(var j=0;j<q;j++){g=f[j];a.push(g);for(var r=j+1;r<q;r++)g+=f[r],a.push(g);0===j&&(a.splice(-1,1),u=g)}a.push(u)}a=a.reverse();b.location.toString().replace(/\=/ig,":").match(/\?(.+)$/);f=RegExp.$1.split("&");e={setTargeting:{inURL:a,URLIs:a[0],Query:f,Domain:b.location.host},enableSingleRequest:!0,collapseEmptyDivs:"original",targetPlatform:"web",enableSyncRendering:!1,refreshExisting:!0};c.extend(!0,e,k);e.googletag&&b.googletag.cmd.push(function(){c.extend(b.googletag,e.googletag)});
c(function(){m.each(function(){var a=c(this);n++;var f=a.data("adunit")||a.attr("id"),g=a.attr("id")||a.attr("id",f+"-auto-gen-id-"+n).attr("id"),h=[],d=a.data("dimensions");d?(d=d.split(","),c.each(d,function(a,b){var c=b.split("x");h.push([parseInt(c[0],10),parseInt(c[1],10)])})):h.push([a.width(),a.height()]);var j=a.html();a.html("").addClass("display-none");b.googletag.cmd.push(function(){var d,k=a.data("googleAdUnit");d=k?k:a.data("outofpage")?b.googletag.defineOutOfPageSlot("/"+l+"/"+f,g).addService(b.googletag.pubads()):
b.googletag.defineSlot("/"+l+"/"+f,h,g).addService(b.googletag.pubads());a.data("targeting")&&c.each(a.data("targeting"),function(a,b){d.setTargeting(a,b)});d.oldRenderEnded=d.oldRenderEnded||d.renderEnded;d.renderEnded=function(){s++;var b=a.css("display");"none"===b&&(0<c.trim(j).length&&"original"===e.collapseEmptyDivs)&&(a.show().html(j),b="block display-original");a.removeClass("display-none").addClass("display-"+b);d.oldRenderEnded();"function"===typeof e.afterEachAdLoaded&&e.afterEachAdLoaded.call(this,
a);"function"===typeof e.afterAllAdsLoaded&&s===n&&e.afterAllAdsLoaded.call(this,m)};a.data("googleAdUnit",d)})});b.googletag.cmd.push(function(){!0===e.enableSingleRequest&&b.googletag.pubads().enableSingleRequest();c.each(e.setTargeting,function(a,c){b.googletag.pubads().setTargeting(a,c)});(!0===e.collapseEmptyDivs||"original"===e.collapseEmptyDivs)&&b.googletag.pubads().collapseEmptyDivs();b.googletag.enableServices()});m.each(function(){var a=c(this),d=a.data("googleAdUnit");e.refreshExisting&&
d&&a.hasClass("display-block")?b.googletag.cmd.push(function(){b.googletag.pubads().refresh([d])}):b.googletag.cmd.push(function(){b.googletag.display(a.attr("id"))})})});return this}})(window.jQuery||window.Zepto||window.tire,window);
