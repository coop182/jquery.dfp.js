/**
 * jQuery DFP v1.0.11
 * http://github.com/coop182/jquery.dfp.js
 *
 * Copyright 2013 Matt Cooper
 * Released under the MIT license
 */
(function(f,a){var k=this,l="",q=0,u=0,m=".adunit",c={},r=!1,v=function(){var c=a.googletag.cmd;setTimeout(function(){a.googletag={cmd:{push:function(a){a.call(k)}},ads:[],pubads:function(){return this},enableSingleRequest:function(){return this},setTargeting:function(){return this},collapseEmptyDivs:function(){return this},enableServices:function(){return this},defineSlot:function(f,b,c){a.googletag.ads.push(c);a.googletag.ads[c]={renderEnded:function(){},addService:function(){return this}};return a.googletag.ads[c]},
defineOutOfPageSlot:function(c,b){a.googletag.ads.push(b);a.googletag.ads[b]={renderEnded:function(){},addService:function(){return this}};return a.googletag.ads[b]},display:function(c){a.googletag.ads[c].renderEnded.call(k);return this}};f.each(c,function(c,b){a.googletag.cmd.push(b)})},50)};f.dfp=f.fn.dfp=function(j,n){n=n||{};"undefined"===typeof j&&(j=l);"object"===typeof j&&(n=j,j=n.dfpID||l);var b=this;"function"===typeof this&&(b=m);l=j||l;m=b||m;var b=n||{},g=a.location.pathname.replace(/\/$/,
""),h=g.match(RegExp("/([^/]*)","ig")),e=["/"],k="";if("/"!==g&&null!==h){var g="",s=h.length;if(0<s)for(var p=0;p<s;p++){g=h[p];e.push(g);for(var t=p+1;t<s;t++)g+=h[t],e.push(g);0===p&&(e.splice(-1,1),k=g)}e.push(k)}e=e.reverse();a.location.toString().replace(/\=/ig,":").match(/\?(.+)$/);h=RegExp.$1.split("&");c={setTargeting:{inURL:e,URLIs:e[0],Query:h,Domain:a.location.host},enableSingleRequest:!0,collapseEmptyDivs:"original",targetPlatform:"web",enableSyncRendering:!1,refreshExisting:!0};f.extend(!0,
c,b);c.googletag&&a.googletag.cmd.push(function(){f.extend(a.googletag,c.googletag)});r=r||f('script[src*="googletagservices.com/tag/js/gpt.js"]').length;r||(a.googletag=a.googletag||{},a.googletag.cmd=a.googletag.cmd||[],b=document.createElement("script"),b.async=!0,b.type="text/javascript",b.onerror=function(){v()},b.src=("https:"===document.location.protocol?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(b,e),
"none"===b.style.display&&v());f(function(){var b=[];f(m).each(function(){var d=f(this);q++;var e=d.data("adunit")||d.attr("id"),g=d.attr("id")||d.attr("id",e+"-auto-gen-id-"+q).attr("id"),j=[],h=d.data("dimensions");"undefined"!==typeof h?(h=h.split(","),f.each(h,function(a,c){var d=c.split("x");j.push([parseInt(d[0],10),parseInt(d[1],10)])})):j.push([d.width(),d.height()]);var k=d.html();d.html("").addClass("display-none");b.push(g);a.googletag.cmd.push(function(){var b;b="undefined"===typeof d.data("googleAdUnit")?
"undefined"!==typeof d.data("outofpage")?a.googletag.defineOutOfPageSlot("/"+l+"/"+e,g).addService(a.googletag.pubads()):a.googletag.defineSlot("/"+l+"/"+e,j,g).addService(a.googletag.pubads()):d.data("googleAdUnit");"object"===typeof d.data("targeting")&&f.each(d.data("targeting"),function(a,c){b.setTargeting(a,c)});b.oldRenderEnded=b.oldRenderEnded||b.renderEnded;b.renderEnded=function(){u++;var a=d.css("display");"none"===a&&(0<f.trim(k).length&&"original"===c.collapseEmptyDivs)&&(d.show().html(k),
a="block display-original");d.removeClass("display-none").addClass("display-"+a);b.oldRenderEnded();"function"===typeof c.afterEachAdLoaded&&c.afterEachAdLoaded.call(this,d);"function"===typeof c.afterAllAdsLoaded&&u===q&&c.afterAllAdsLoaded.call(this,f(m))};d.data("googleAdUnit",b)})});a.googletag.cmd.push(function(){!0===c.enableSingleRequest&&a.googletag.pubads().enableSingleRequest();f.each(c.setTargeting,function(b,c){a.googletag.pubads().setTargeting(b,c)});(!0===c.collapseEmptyDivs||"original"===
c.collapseEmptyDivs)&&a.googletag.pubads().collapseEmptyDivs();a.googletag.enableServices()});f.each(b,function(b,e){var g=f("#"+e);c.refreshExisting&&"undefined"!==typeof g.data("googleAdUnit")&&g.hasClass("display-block")?a.googletag.cmd.push(function(){a.googletag.pubads().refresh([g.data("googleAdUnit")])}):a.googletag.cmd.push(function(){a.googletag.display(e)})})});return this}})(window.jQuery,window);
