/**
 * jQuery DFP v1.0.12
 * http://github.com/coop182/jquery.dfp.js
 *
 * Copyright 2013 Matt Cooper
 * Released under the MIT license
 */
(function(c,a,w){var m=this,k="",p=0,t=0,f={},q=!1,n,u=function(){var f=a.googletag.cmd;setTimeout(function(){a.googletag={cmd:{push:function(a){a.call(m)}},ads:[],pubads:function(){return this},enableSingleRequest:function(){return this},setTargeting:function(){return this},collapseEmptyDivs:function(){return this},enableServices:function(){return this},defineSlot:function(f,b,c){a.googletag.ads.push(c);a.googletag.ads[c]={renderEnded:function(){},addService:function(){return this}};return a.googletag.ads[c]},
defineOutOfPageSlot:function(c,b){a.googletag.ads.push(b);a.googletag.ads[b]={renderEnded:function(){},addService:function(){return this}};return a.googletag.ads[b]},display:function(c){a.googletag.ads[c].renderEnded.call(m);return this}};c.each(f,function(c,b){a.googletag.cmd.push(b)})},50)};c.dfp=c.fn.dfp=function(e,j){j=j||{};e===w&&(e=k);"object"===typeof e&&(j=e,e=j.dfpID||k);var b=this;"function"===typeof this&&(b=".adunit");var m=j;k=e;n=c(b);q=q||c('script[src*="googletagservices.com/tag/js/gpt.js"]').length;
if(!q){a.googletag=a.googletag||{};a.googletag.cmd=a.googletag.cmd||[];b=document.createElement("script");b.async=!0;b.type="text/javascript";b.onerror=function(){u()};b.src=("https:"===document.location.protocol?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";var h=document.getElementsByTagName("script")[0];h.parentNode.insertBefore(b,h);"none"===b.style.display&&u()}var g=a.location.pathname.replace(/\/$/,""),h=g.match(RegExp("/([^/]*)","ig")),b=["/"],v="";if(h&&"/"!==g){var g="",
r=h.length;if(0<r)for(var l=0;l<r;l++){g=h[l];b.push(g);for(var s=l+1;s<r;s++)g+=h[s],b.push(g);0===l&&(b.splice(-1,1),v=g)}b.push(v)}b=b.reverse();a.location.toString().replace(/\=/ig,":").match(/\?(.+)$/);h=RegExp.$1.split("&");f={setTargeting:{inURL:b,URLIs:b[0],Query:h,Domain:a.location.host},enableSingleRequest:!0,collapseEmptyDivs:"original",targetPlatform:"web",enableSyncRendering:!1,refreshExisting:!0};c.extend(!0,f,m);f.googletag&&a.googletag.cmd.push(function(){c.extend(a.googletag,f.googletag)});
c(function(){n.each(function(){var d=c(this);p++;var b=d.data("adunit")||d.attr("id"),h=d.attr("id")||d.attr("id",b+"-auto-gen-id-"+p).attr("id"),g=[],e=d.data("dimensions");e?(e=e.split(","),c.each(e,function(a,b){var d=b.split("x");g.push([parseInt(d[0],10),parseInt(d[1],10)])})):g.push([d.width(),d.height()]);var j=d.html();d.html("").addClass("display-none");a.googletag.cmd.push(function(){var e;e=d.data("googleAdUnit")?d.data("googleAdUnit"):d.data("outofpage")?a.googletag.defineOutOfPageSlot("/"+
k+"/"+b,h).addService(a.googletag.pubads()):a.googletag.defineSlot("/"+k+"/"+b,g,h).addService(a.googletag.pubads());d.data("targeting")&&c.each(d.data("targeting"),function(a,b){e.setTargeting(a,b)});e.oldRenderEnded=e.oldRenderEnded||e.renderEnded;e.renderEnded=function(){t++;var a=d.css("display");"none"===a&&(0<c.trim(j).length&&"original"===f.collapseEmptyDivs)&&(d.show().html(j),a="block display-original");d.removeClass("display-none").addClass("display-"+a);e.oldRenderEnded();"function"===
typeof f.afterEachAdLoaded&&f.afterEachAdLoaded.call(this,d);"function"===typeof f.afterAllAdsLoaded&&t===p&&f.afterAllAdsLoaded.call(this,n)};d.data("googleAdUnit",e)})});a.googletag.cmd.push(function(){!0===f.enableSingleRequest&&a.googletag.pubads().enableSingleRequest();c.each(f.setTargeting,function(b,c){a.googletag.pubads().setTargeting(b,c)});(!0===f.collapseEmptyDivs||"original"===f.collapseEmptyDivs)&&a.googletag.pubads().collapseEmptyDivs();a.googletag.enableServices()});n.each(function(){var b=
c(this);f.refreshExisting&&b.data("googleAdUnit")&&b.hasClass("display-block")?a.googletag.cmd.push(function(){a.googletag.pubads().refresh([b.data("googleAdUnit")])}):a.googletag.cmd.push(function(){a.googletag.display(b.attr("id"))})})});return this}})(jQuery,window);
